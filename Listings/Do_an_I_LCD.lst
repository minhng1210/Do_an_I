C51 COMPILER V9.60.7.0   DO_AN_I_LCD                                                       06/12/2025 19:42:24 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE DO_AN_I_LCD
OBJECT MODULE PLACED IN .\Objects\Do_an_I_LCD.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE Do_an_I_LCD.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listin
                    -gs\Do_an_I_LCD.lst) TABS(2) OBJECT(.\Objects\Do_an_I_LCD.obj)

line level    source

   1          #include <REGX51.H>
   2          #include <Do_an_I_LCD.h>
   3          
   4          #define LCD_RS  P3_0
   5          #define LCD_RW  P3_1
   6          #define LCD_EN  P3_2
   7          #define LCD_D4  P3_4
   8          #define LCD_D5  P3_5
   9          #define LCD_D6  P3_6
  10          #define LCD_D7  P3_7
  11          
  12          void delay_us(unsigned int t) {
  13   1          while (t--);
  14   1      }
  15          
  16          void delay_ms(unsigned int t) {
  17   1          while (t--)
  18   1              delay_us(125);
  19   1      }
  20          void LCD_Enable(void){
  21   1              LCD_EN =1;
  22   1              delay_us(3);
  23   1              LCD_EN = 0;
  24   1              delay_us(50); 
  25   1      }
  26          void LCD_Send4Bit(unsigned char Data){
  27   1              LCD_D4=Data & 0x01;
  28   1              LCD_D5=(Data>>1)&1;
  29   1              LCD_D6=(Data>>2)&1;
  30   1              LCD_D7=(Data>>3)&1;
  31   1      }
  32          void LCD_SendCommand(unsigned char command){
  33   1              LCD_Send4Bit(command >>4);/* Send 4 bit high */
  34   1              LCD_Enable();
  35   1              LCD_Send4Bit(command); /* Send 4 bit low*/
  36   1              LCD_Enable();
  37   1      }
  38          void LCD_Init(){
  39   1              LCD_Send4Bit(0x00);   //turn on LCD
  40   1              delay_ms(20);
  41   1              LCD_RS=0;
  42   1              LCD_RW=0;
  43   1              LCD_Send4Bit(0x03);   //function setting
  44   1              LCD_Enable();
  45   1              delay_ms(5);
  46   1              LCD_Enable();
  47   1              delay_us(100);
  48   1              LCD_Enable();
  49   1              LCD_Send4Bit(0x02);   //di chuyen con tro ve dau man hnh
  50   1              LCD_Enable();
  51   1              LCD_SendCommand( 0x28 ); //lua chon che do 4 bit
  52   1              LCD_SendCommand( 0x0c);  // bat hien thi va tat con tro di
  53   1              LCD_SendCommand( 0x06 );
  54   1              LCD_SendCommand(0x01);
C51 COMPILER V9.60.7.0   DO_AN_I_LCD                                                       06/12/2025 19:42:24 PAGE 2   

  55   1      }
  56          void LCD_Gotoxy(unsigned char x, unsigned char y) {
  57   1        LCD_SendCommand((y ? 0xC0 : 0x80) + x);
  58   1        delay_us(50);
  59   1      }
  60          void LCD_PutChar(unsigned char Data){
  61   1        LCD_RS=1;
  62   1        LCD_SendCommand(Data);
  63   1        LCD_RS=0;
  64   1      }
  65          void LCD_Puts(char *s){
  66   1        while (*s){
  67   2          LCD_PutChar(*s);
  68   2          s++;
  69   2        }
  70   1      }
  71          void LCD_PutNumber(int number) {
  72   1          if (number >= 0 && number <= 9) {
  73   2              LCD_PutChar(number + '0');
  74   2          }
  75   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    247    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
